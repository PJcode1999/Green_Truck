{% load static %}
<nav class="navbar navbar-expand-md navbar-dark sticky-top bg-white">
  <div class="container">
    <img
      class="navbar-toggler-icon m-0"
      style="width:50px; height:auto"
      src="/static/icon.png"
      alt="Logo"
    />
    <a class="navbar-brand fs-2" href="{% url 'home' %}" style="color: #013220; font-family: 'Kotta One', serif">
    Green Truck</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse justify-content-end" id="navbarCollapse">
    <ul class="nav">
      <li class="nav-item">
        <a
          {% if request.path == '/' %}
            class="nav-link active"
            style="color: #76af35; font-weight: bold" 
          {% else %}
            class="nav-link active"
            style="color: #013220;"
          {% endif %}
            href="{% url 'home' %}"
        >Home</a>
      </li>
      <li class="nav-item">
        <a 
          {% if request.path == '/about/about/' %}
            class="nav-link active"
            style="color: #76af35; font-weight: bold" 
          {% else %}
            class="nav-link"
            style="color: #013220;"
          {% endif %}
          href="{% url 'about:about' %}"
        >About</a>
      </li>

      <li class="nav-item">
        <a 
          {% if request.path == '/shop/' %}
            class="nav-link active"
            style="color: #76af35; font-weight: bold;" 
          {% else %}
            class="nav-link"
            style="color: #013220;"
          {% endif %}
          href="{% url 'shop:shop' %}"
        >Shop</a>

      </li>
      <li class="nav-item">
        <a 
          {% if request.path == '/contact/contact/' %}
            class="nav-link active"
            style="color: #76af35; font-weight: bold;" 
          {% else %}
            class="nav-link"
            style="color: #013220;"
          {% endif %}
          href="{% url 'contact:contact' %}"
        >Contact</a>
      </li>
    </ul>
  </div>
    <!-- Right elements -->
    <div class="d-flex align-items-center border-warning border-start my-2 my-lg-0">
      <!-- Search -->
      <a
        class="btn-group dropdown-toggle m-2 p-2 align-items-center hidden-arrow dropright"
        style="color: #8de381; background-color: #013220"
        href="#"
        id="navbarDropdownMenuLink"
        role="button"
        data-mdb-toggle="dropdown"
        aria-expanded="false"
      >
          <i class="bi bi-search fa-lg"></i>
      </a>
      <ul
        class="dropdown-menu dropdown-menu-left"
        aria-labelledby="navbarDropdownMenuLink"
      >
        <li>
          <div class="">
            <form class="d-flex">
              <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
              <button class="btn btn-success" type="submit">Search</button>
            </form>
          </div>
        </li> 
      </ul>
      <!-- Shoping Cart -->
      <a class="btn-group m-2 p-2" href="{% url 'cart:cart' %}" style="color: #8de381; background-color: #013220">
        <i class="bi bi-bag fa-lg"></i>
        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill text-bg-warning">
            {{ cart_item_count }}
        </span>
      </a>
      <!-- call -->
      {% if user.is_authenticated %}        
        <a class="btn-group m-2 p-2 " href="https://wa.me/+919518972842?text=Hey Greenie, This is {{ user.first_name }} {{ user.last_name }}, I Want To Buy Some Fresh Veggies." style="color: #8de381; background-color: #013220">
          <i class="bi bi-whatsapp fa-lg" aria-hidden="true"></i>
        </a>
      {% else %}
        <a class="btn-group m-2 p-2 " href="https://wa.me/+919518972842?text=Hey Greenie, This is [Enter your name], I Want To Buy Some Fresh Veggies." style="color: #8de381; background-color: #013220">
          <i class="bi bi-whatsapp fa-lg" aria-hidden="true"></i>
        </a>
      {% endif %}

      <!-- Avatar -->
      <div class="dropdown my-sm-0">
        <a
          class="btn-group dropdown-toggle m-2 p-2 align-items-center hidden-arrow"
          style="color: #8de381; background-color: #013220;"
          id="navbarDropdownMenuAvatar"
          role="button"
          data-mdb-toggle="dropdown"
          aria-expanded="false"
          aria-hidden="true"
        >
          <i class="bi bi-person-fill fa-lg " loading="lazy"></i>
        </a>
        {% if user.is_authenticated %}
        <ul
          class="dropdown-menu dropdown-menu-end"
          aria-labelledby="navbarDropdownMenuAvatar"
        >
          <li
            class="dropdown-item"
            style="color: #8de381; text-align:center; background-color: #013220;"
          >
            {{ user.first_name }} {{ user.last_name }}
          </li>
          <div class="dropdown-divider"></div>
          <li>
            <a class="dropdown-item" href="#">X My profile</a>
          </li>
          <li>
            <a class="dropdown-item" href="#">X Settings</a>
          </li>
          <li>
            <a class="dropdown-item" href="{% url 'accounts:logout' %}"
              >Logout</a
            >
          </li>
        </ul>
        {% else %}
        <ul
          class="dropdown-menu dropdown-menu-end"
          aria-labelledby="navbarDropdownMenuAvatar"
        >
          <li>
            <a class="dropdown-item" href="{% url 'accounts:signup' %}"
              >Sign Up</a
            >
          </li>
          <li>
            <a class="dropdown-item" href="{% url 'accounts:login' %}"
              >Log In</a
            >
          </li>
        </ul>
        {% endif %}
      </div>
    </div>
    <!-- Right elements -->
  </div>
</nav>
